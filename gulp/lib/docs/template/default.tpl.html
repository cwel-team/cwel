@using Cwel.Web
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="docs">
    <div class="docs__header">
        <div class="container">
            <h1 class="docs__header-title h1">{{ name }}</h1>
        </div>
    </div>

    <div class="container">
        <div class="docs__section">
            {% markdown mdFile %}
        </div>

        <div class="docs__section docs__section--center-content">
            <iframe height-auto class="docs__preview" width="100%" src="/Playground/Render?layout=true&amp;name={{ name }}&amp;type={{ type }}&amp;model={{ modelData | dump | urlencode }}"></iframe>
        </div>

        <div class="docs__section">
            <h2>ViewModel</h2>
            <div>Type: {{ vm.name }}</div>
            <div>Summary: {{ vm.summary }}</div>
        </div>

        <div class="docs__section">
            <h2>Properties</h2>
            {% for prop in vm.props %}
            <div>
              {{ prop.name }} [{{ prop.returns }}] - {{ prop.summary }}
            </div>
            {% endfor %}
        </div>

        <div class="docs__section">
            <h2>Scope</h2>
            {% for item in script.scope %}
            <div>{{ item.name }}</div>

            {% if item.type %}
            <strong>Type:</strong> {{ item.type }}
            {% endif %}

            {% if item.params.length > 0 %}
            <strong>Params:</strong>
            <ul>
              {% for param in item.params %}
              <li>{{ param }}</li>
              {% endfor %}
            </ul>
            {% endif %}

            {% if item.return %}
            <strong>Returns:</strong> {{ item.return }}
            {% endif %}

            {% endfor %}
        </div>

        <div class="docs__section">
            <div class="docs-example" ng-init="show='html'">
                <div class="docs-example__nav">
                    <div class="docs-example__nav-title">Example</div>
                    <ul class="docs-example__nav-ul">
                        <li class="docs-example__nav-li">
                            <a class="docs-example__nav-link" ng-click="show='html'">HTML</a>
                        </li>
                        <li class="docs-example__nav-li">
                            <a class="docs-example__nav-link" ng-click="show='css'">CSS</a>
                        </li>
                        <li class="docs-example__nav-li">
                            <a class="docs-example__nav-link" ng-click="show='javascript'">Javascript</a>
                        </li>
                    </ul>
                </div>
                <div class="docs-example__content" ng-show="show=='html'">html</div>
                <div class="docs-example__content" ng-show="show=='css'">css</div>
                <div class="docs-example__content" ng-show="show=='javascript'">js</div>
            </div>
        </div>
    </div>
</div>
