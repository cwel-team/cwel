{"version":3,"sources":["AddOne/AddOne.es","Breakpoint/Breakpoint.es","CwoMI/CwoMi.es","CwomponentFactory/CwomponentFactory.es"],"names":["angular","module","factory","increment","num","service","$window","events","deviceSizes","name","breakpoint","standardWidth","standardHeight","currentDevice","filter","generateMediaQuery","ds","matches","shift","element","bind","forEach","deviceSize","i","mediaQuery","prevSize","undefined","nextSize","emit","previous","current","next","eventNames","callback","names","map","bp","indexOf","Error","push","args","e","event","sizeName","dsIndex","query","matchMedia","join","dataLayer","logEvent","$compile","cwomponentPrio","ddo","prevLink","priority","compile","console","warn","link","templateElement","compiled","scope"],"mappings":"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","file":"services.js","sourcesContent":["angular.module('cwoApp').factory('addOne', () => {\r\n    return {\r\n        increment: (num) => {\r\n            return num + 1;\r\n        },\r\n    };\r\n});\r\n","angular.module('cwoApp').service('Breakpoint', ($window) => {\r\n    return new (class Breakpoint {\r\n        constructor() {\r\n            this.events = [];\r\n            this.deviceSizes = [\r\n                {\r\n                    name: 'xs',\r\n                    breakpoint: 0,\r\n                    standardWidth: 320,\r\n                    standardHeight: 568,\r\n                },\r\n                {\r\n                    name: 's',\r\n                    breakpoint: 400,\r\n                    standardWidth: 414,\r\n                    standardHeight: 736,\r\n                },\r\n                {\r\n                    name: 'm',\r\n                    breakpoint: 600,\r\n                    standardWidth: 768,\r\n                    standardHeight: 1024,\r\n                },\r\n                {\r\n                    name: 'l',\r\n                    breakpoint: 1004,\r\n                    standardWidth: 1024,\r\n                    standardHeight: 1366,\r\n                },\r\n                {\r\n                    name: 'xl',\r\n                    breakpoint: 1280,\r\n                    standardWidth: 1366,\r\n                    standardHeight: 1600,\r\n                },\r\n            ];\r\n            this.currentDevice = this.deviceSizes.filter(ds =>\r\n                this.generateMediaQuery(ds.name).matches).shift();\r\n\r\n            angular.element($window).bind('resize', () => {\r\n                this.deviceSizes.forEach((deviceSize, i) => {\r\n                    const mediaQuery = this.generateMediaQuery(deviceSize.name);\r\n                    const prevSize = this.deviceSizes[i - 1] || undefined;\r\n                    const nextSize = this.deviceSizes[i + 1] || undefined;\r\n\r\n                    if (this.currentDevice.name !== deviceSize.name\r\n                    && mediaQuery.matches === true) {\r\n                        this.currentDevice = deviceSize;\r\n                        this.emit(deviceSize.name, {\r\n                            previous: prevSize,\r\n                            current: deviceSize,\r\n                            next: nextSize,\r\n                        });\r\n                    }\r\n                });\r\n            });\r\n        }\r\n\r\n        on(eventNames, callback) {\r\n            if (typeof eventNames === 'string') {\r\n                eventNames = [eventNames];\r\n            }\r\n\r\n            eventNames.forEach((name) => {\r\n                const names = this.deviceSizes.map(bp => bp.name);\r\n\r\n                if (names.indexOf(name) < 0) {\r\n                    throw Error('Breakpoint: unknown event name, dude');\r\n                }\r\n\r\n                this.events.push({\r\n                    name,\r\n                    callback,\r\n                });\r\n            });\r\n\r\n            return this;\r\n        }\r\n\r\n        emit(name, ...args) {\r\n            const events = this.events.filter(e => e.name === name);\r\n\r\n            events.forEach(event => event.callback(...args));\r\n        }\r\n\r\n        generateMediaQuery(sizeName) {\r\n            const dsIndex = this.deviceSizes.map(ds => ds.name).indexOf(sizeName);\r\n            const deviceSize = this.deviceSizes[dsIndex];\r\n            const nextSize = this.deviceSizes[dsIndex + 1];\r\n            const query = [`(min-width: ${deviceSize.breakpoint}px)`];\r\n\r\n            if (nextSize) {\r\n                query.push(`(max-width: ${nextSize.breakpoint - 1}px)`);\r\n            }\r\n\r\n            return $window.matchMedia(`${query.join(' and ')}`);\r\n        }\r\n    })();\r\n});\r\n","angular.module('cwoApp')\r\n.service('CwoMI', ($window) => {\r\n    $window.dataLayer = $window.dataLayer || [];\r\n\r\n    return {\r\n        logEvent(event) {\r\n            if (event) {\r\n                $window.dataLayer.push(event);\r\n            }\r\n        },\r\n    };\r\n});\r\n","angular.module('cwoApp')\r\n.factory('CwomponentFactory', ($compile) => {\r\n    const cwomponentPrio = 50;\r\n\r\n    // Cwomponentify a directive definition object\r\n    return (ddo) => {\r\n        let prevLink;\r\n\r\n        if (ddo.priority || ddo.compile) {\r\n            console.warn('CwomponentFactory called for a directive that defines a compile function or a priority');\r\n            return ddo;\r\n        }\r\n\r\n        // Remove link function\r\n        if (ddo.link) {\r\n            prevLink = ddo.link;\r\n            delete ddo.link;\r\n        }\r\n\r\n        ddo.compile = (templateElement) => {\r\n            const compiled = $compile(templateElement, null, cwomponentPrio);\r\n            return (scope, ...args) => {\r\n                compiled(scope);\r\n\r\n                if (prevLink) {\r\n                    prevLink(scope, ...args);\r\n                }\r\n            };\r\n        };\r\n\r\n        ddo.priority = cwomponentPrio;\r\n        return ddo;\r\n    };\r\n});\r\n"]}