{"version":3,"sources":["AddOne/AddOne.es","Breakpoint/Breakpoint.es","CwomponentFactory/CwomponentFactory.es","CwoMI/CwoMi.es"],"names":["angular","module","factory","increment","num","service","$window","$rootScope","events","deviceSizes","name","breakpoint","standardWidth","standardHeight","currentDevice","filter","generateMediaQuery","ds","matches","shift","element","bind","forEach","deviceSize","i","mediaQuery","prevSize","undefined","nextSize","emit","previous","current","next","eventNames","callback","push","args","e","$applyAsync","event","size","mq","matchMedia","sizeName","dsIndex","map","indexOf","query","join","$compile","cwomponentPrio","ddo","prevLink","priority","compile","console","warn","link","templateElement","compiled","scope","dataLayer","logEvent"],"mappings":"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","file":"services.js","sourcesContent":["angular.module('cwoApp').factory('addOne', () => {\r\n    return {\r\n        increment: (num) => {\r\n            return num + 1;\r\n        },\r\n    };\r\n});\r\n","angular.module('cwoApp').service('Breakpoint', ($window, $rootScope) => {\r\n    return new (class Breakpoint {\r\n        constructor() {\r\n            this.events = [];\r\n            this.deviceSizes = [\r\n                {\r\n                    name: 'xs',\r\n                    breakpoint: 0,\r\n                    standardWidth: 320,\r\n                    standardHeight: 568,\r\n                },\r\n                {\r\n                    name: 's',\r\n                    breakpoint: 400,\r\n                    standardWidth: 400,\r\n                    standardHeight: 736,\r\n                },\r\n                {\r\n                    name: 'm',\r\n                    breakpoint: 600,\r\n                    standardWidth: 600,\r\n                    standardHeight: 1024,\r\n                },\r\n                {\r\n                    name: 'l',\r\n                    breakpoint: 1004,\r\n                    standardWidth: 1004,\r\n                    standardHeight: 1366,\r\n                },\r\n                {\r\n                    name: 'xl',\r\n                    breakpoint: 1280,\r\n                    standardWidth: 1280,\r\n                    standardHeight: 1600,\r\n                },\r\n            ];\r\n            this.currentDevice = this.deviceSizes.filter(ds =>\r\n                this.generateMediaQuery(ds.name).matches).shift();\r\n\r\n            angular.element($window).bind('resize', () => {\r\n                this.deviceSizes.forEach((deviceSize, i) => {\r\n                    const mediaQuery = this.generateMediaQuery(deviceSize.name);\r\n                    const prevSize = this.deviceSizes[i - 1] || undefined;\r\n                    const nextSize = this.deviceSizes[i + 1] || undefined;\r\n\r\n                    if (this.currentDevice.name !== deviceSize.name\r\n                    && mediaQuery.matches === true) {\r\n                        this.currentDevice = deviceSize;\r\n                        this.emit(deviceSize.name, {\r\n                            previous: prevSize,\r\n                            current: deviceSize,\r\n                            next: nextSize,\r\n                        });\r\n                    }\r\n                });\r\n            });\r\n        }\r\n\r\n        on(eventNames, callback) {\r\n            if (typeof eventNames === 'string') {\r\n                eventNames = [eventNames];\r\n            }\r\n\r\n            eventNames.forEach((name) => {\r\n                this.events.push({\r\n                    name,\r\n                    callback,\r\n                });\r\n            });\r\n\r\n            return this;\r\n        }\r\n\r\n        emit(name, ...args) {\r\n            const events = this.events.filter(e => e.name === name || e.name === 'all');\r\n            $rootScope.$applyAsync(() => {\r\n                events.forEach(event => event.callback(...args));\r\n            });\r\n        }\r\n\r\n        getDeviceSizesSmallerThanCurrent() {\r\n            return this.deviceSizes.filter((size) => {\r\n                const mq = `(max-width: ${size.breakpoint}px)`;\r\n                return !$window.matchMedia(mq).matches;\r\n            });\r\n        }\r\n\r\n        generateMediaQuery(sizeName) {\r\n            const dsIndex = this.deviceSizes.map(ds => ds.name).indexOf(sizeName);\r\n            const deviceSize = this.deviceSizes[dsIndex];\r\n            const nextSize = this.deviceSizes[dsIndex + 1];\r\n            const query = [`(min-width: ${deviceSize.breakpoint}px)`];\r\n\r\n            if (nextSize) {\r\n                query.push(`(max-width: ${nextSize.breakpoint - 1}px)`);\r\n            }\r\n\r\n            return $window.matchMedia(`${query.join(' and ')}`);\r\n        }\r\n    })();\r\n});\r\n","angular.module('cwoApp')\r\n.factory('CwomponentFactory', ($compile) => {\r\n    const cwomponentPrio = 50;\r\n\r\n    // Cwomponentify a directive definition object\r\n    return (ddo) => {\r\n        let prevLink;\r\n\r\n        if (ddo.priority || ddo.compile) {\r\n            console.warn('CwomponentFactory called for a directive that defines a compile function or a priority');\r\n            return ddo;\r\n        }\r\n\r\n        // Remove link function\r\n        if (ddo.link) {\r\n            prevLink = ddo.link;\r\n            delete ddo.link;\r\n        }\r\n\r\n        ddo.compile = (templateElement) => {\r\n            const compiled = $compile(templateElement, null, cwomponentPrio);\r\n            return (scope, ...args) => {\r\n                compiled(scope);\r\n\r\n                if (prevLink) {\r\n                    prevLink(scope, ...args);\r\n                }\r\n            };\r\n        };\r\n\r\n        ddo.priority = cwomponentPrio;\r\n        return ddo;\r\n    };\r\n});\r\n","angular.module('cwoApp')\r\n.service('CwoMI', ($window) => {\r\n    $window.dataLayer = $window.dataLayer || [];\r\n\r\n    return {\r\n        logEvent(event) {\r\n            if (event) {\r\n                $window.dataLayer.push(event);\r\n            }\r\n        },\r\n    };\r\n});\r\n"]}