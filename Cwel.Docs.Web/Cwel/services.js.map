{"version":3,"sources":["Breakpoint/Breakpoint.es","AddOne/AddOne.es","CwomponentFactory/CwomponentFactory.es","CwoMI/CwoMi.es"],"names":["angular","module","service","$window","events","deviceSizes","name","breakpoint","currentDevice","filter","generateMediaQuery","ds","matches","shift","element","bind","forEach","deviceSize","i","mediaQuery","prevSize","undefined","nextSize","emit","previous","current","next","eventNames","callback","names","map","bp","indexOf","Error","push","args","e","event","sizeName","dsIndex","query","matchMedia","join","factory","increment","num","$compile","cwomponentPrio","ddo","prevLink","priority","compile","console","warn","link","templateElement","compiled","scope","dataLayer","logEvent"],"mappings":"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","file":"services.js","sourcesContent":["angular.module('cwoApp').service('Breakpoint', ($window) => {\r\n    return new (class Breakpoint {\r\n        constructor() {\r\n            this.events = [];\r\n            this.deviceSizes = [\r\n                {\r\n                    name: 'xs',\r\n                    breakpoint: 0,\r\n                },\r\n                {\r\n                    name: 's',\r\n                    breakpoint: 400,\r\n                },\r\n                {\r\n                    name: 'm',\r\n                    breakpoint: 600,\r\n                },\r\n                {\r\n                    name: 'l',\r\n                    breakpoint: 1004,\r\n                },\r\n                {\r\n                    name: 'xl',\r\n                    breakpoint: 1280,\r\n                },\r\n            ];\r\n            this.currentDevice = this.deviceSizes.filter(ds =>\r\n                this.generateMediaQuery(ds.name).matches).shift();\r\n\r\n            angular.element($window).bind('resize', () => {\r\n                this.deviceSizes.forEach((deviceSize, i) => {\r\n                    const mediaQuery = this.generateMediaQuery(deviceSize.name);\r\n                    const prevSize = this.deviceSizes[i - 1] || undefined;\r\n                    const nextSize = this.deviceSizes[i + 1] || undefined;\r\n\r\n                    if (this.currentDevice.name !== deviceSize.name\r\n                    && mediaQuery.matches === true) {\r\n                        this.currentDevice = deviceSize;\r\n                        this.emit(deviceSize.name, {\r\n                            previous: prevSize,\r\n                            current: deviceSize,\r\n                            next: nextSize,\r\n                        });\r\n                    }\r\n                });\r\n            });\r\n        }\r\n\r\n        on(eventNames, callback) {\r\n            if (typeof eventNames === 'string') {\r\n                eventNames = [eventNames];\r\n            }\r\n\r\n            eventNames.forEach((name) => {\r\n                const names = this.deviceSizes.map(bp => bp.name);\r\n\r\n                if (names.indexOf(name) < 0) {\r\n                    throw Error('Breakpoint: unknown event name, dude');\r\n                }\r\n\r\n                this.events.push({\r\n                    name,\r\n                    callback,\r\n                });\r\n            });\r\n\r\n            return this;\r\n        }\r\n\r\n        emit(name, ...args) {\r\n            const events = this.events.filter(e => e.name === name);\r\n\r\n            events.forEach(event => event.callback(...args));\r\n        }\r\n\r\n        generateMediaQuery(sizeName) {\r\n            const dsIndex = this.deviceSizes.map(ds => ds.name).indexOf(sizeName);\r\n            const deviceSize = this.deviceSizes[dsIndex];\r\n            const nextSize = this.deviceSizes[dsIndex + 1];\r\n            const query = [`(min-width: ${deviceSize.breakpoint}px)`];\r\n\r\n            if (nextSize) {\r\n                query.push(`(max-width: ${nextSize.breakpoint - 1}px)`);\r\n            }\r\n\r\n            return $window.matchMedia(`${query.join(' and ')}`);\r\n        }\r\n    })();\r\n});\r\n","angular.module('cwoApp').factory('addOne', () => {\r\n    return {\r\n        increment: (num) => {\r\n            return num + 1;\r\n        },\r\n    };\r\n});\r\n","angular.module('cwoApp')\r\n.factory('CwomponentFactory', ($compile) => {\r\n    const cwomponentPrio = 50;\r\n\r\n    // Cwomponentify a directive definition object\r\n    return (ddo) => {\r\n        let prevLink;\r\n\r\n        if (ddo.priority || ddo.compile) {\r\n            console.warn('CwomponentFactory called for a directive that defines a compile function or a priority');\r\n            return ddo;\r\n        }\r\n\r\n        // Remove link function\r\n        if (ddo.link) {\r\n            prevLink = ddo.link;\r\n            delete ddo.link;\r\n        }\r\n\r\n        ddo.compile = (templateElement) => {\r\n            const compiled = $compile(templateElement, null, cwomponentPrio);\r\n            return (scope, ...args) => {\r\n                compiled(scope);\r\n\r\n                if (prevLink) {\r\n                    prevLink(scope, ...args);\r\n                }\r\n            };\r\n        };\r\n\r\n        ddo.priority = cwomponentPrio;\r\n        return ddo;\r\n    };\r\n});\r\n","angular.module('cwoApp')\r\n.service('CwoMI', ($window) => {\r\n    $window.dataLayer = $window.dataLayer || [];\r\n\r\n    return {\r\n        logEvent(event) {\r\n            if (event) {\r\n                $window.dataLayer.push(event);\r\n            }\r\n        },\r\n    };\r\n});\r\n"]}